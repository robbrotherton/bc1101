{
  "hash": "fe569e9b2b5f7ca3970a2c3fda505024",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Problem Set 9\nsubtitle: Factorial ANOVA\n\nformat: html\nsidebar: recitation\nnavbar: false\nexecute: \n  echo: true\n---\n\n::: {.content-hidden when-format=\"pdf\"}\n## Instructions\n\nWhen analyzing data from a 2x2 factorial design, the steps are:\n\n1.  Produce descriptive statistics (marginal and cell means, SDs, CIs.\n\n2.  Make a graph showing those descriptives.\n\n3.  Compute the ANOVA model\n\n4.  If any element of the model is 'significant', compute effect size and run post-hoc tests.\n\n### Descriptive statistics\n\nThere are several ways to get descriptive statistics for 2x2 ANOVA designs. One is to use the `summarize` function from the `dplyr` package, which you're hopefully feeling familiar with by now. The only difference here for a 2x2 design is that you have 2 grouping variables. Happily, we can specify them both by collecting them together (using `c()`) as the function's `.by` argument.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n\ncell_means <- my_dataframe |> \n  summarize(mean = mean(dv_column),\n            sd = sd(dv_column),\n            ci = ci(dv_column),\n            .by = c(iv_one_column, iv_two_column))\n```\n:::\n\n\nWith both grouping variables we get all 4 'cell means'. To find the 'marginal means' for each IV, you would do the same thing but with just one grouping variable at a time.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmarginal_means_iv_one <- summarize(my_dataframe, \n                                   mean = mean(dv_column),\n                                   sd = sd(dv_column),\n                                   ci = ci(dv_column),\n                                   .by = iv_one_column)\n\nmarginal_means_iv_two <- summarize(my_dataframe, \n                                   mean = mean(dv_column),\n                                   sd = sd(dv_column),\n                                   ci = ci(dv_column),\n                                   .by = iv_two_column)\n```\n:::\n\n\nAlso notice that I'm using a `ci()` function to compute the 95% confidence interval. Remember, it's not built into R; it's one that I made back in Problem Set 6! You'll need to copy and paste that code into your problem set here *before* trying to use it.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nci <- function(x) {\n  # code to compute CI goes here!\n}\n\ncell_means <- my_dataframe |> \n  summarize(...,\n            ci = ci(dv_column),\n            ...)\n```\n:::\n\n\n### Graph\n\nA nice thing about getting summary statistics using `summarize()` is that it returns the summary data as a data.frame, so if you assigned that output to a name (as I did above!) you can make use of it, for example to visualize the summary statistics as a 2x2 plot.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# bar graph\ncell_means |> \n  ggplot(aes(x = iv_one_column, \n             y = summary_variable, \n             fill = iv_two_column)) +\n  geom_col(position = position_dodge()) +\n  geom_errorbar(aes(ymin = mean - ci, ymax = mean + ci), \n                position = position_dodge(width = 0.9), width = 0.1)\n\n# line graph\ncell_means |> \n  ggplot(aes(x = iv_one_column, \n             y = summary_variable, \n             color = iv_two_column, \n             group = iv_two_column)) +\n  geom_point() +\n  geom_line() +\n  geom_errorbar(aes(ymin = mean - ci, ymax = mean + ci), width = 0.1)\n```\n:::\n\n\nHere as the aesthetics we assign one IV to the x-axis, the second IV as both color and group, and the DV is assigned to the y-axis.\n\n### Analysis\n\nTo analyze a two-factor design, use `aov()` and `summary()` just like with a one-way design. The difference is that in the `formula` argument you will specify both your IVs, separated by an asterisk, meaning that you are interested in the effect of both variables and the interaction between them.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel <- aov(formula = dv_column ~ iv_one_column * iv_two_column, \n             data = my.data)\nsummary(model)\n```\n:::\n\n\n### Effect size\n\nThe `etaSquared()` function from the `lsr` package is the easiest way to obtain effect size for a 2x2 ANOVA.\n\n\n::: {.cell}\n\n```{.r .cell-code}\neffectsize::eta_squared(model)\n```\n:::\n\n\n### Post-hoc tests\n\nPost-hoc tests work the same way for a two-factor design as a single-factor design. Just feed your `aov()` analysis into the `TukeyHSD()` function (as long as it's a between-participants design). The output shows you every possible comparison of conditions in the data, and states which are significantly different from one another.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nTukeyHSD(model)\n```\n:::\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}